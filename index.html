<html>
  <head>
    <title>Startup Comic</title>
    <link href="unicorn_poop.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <!-- <img src="" alt=""> -->
      <h1>Startup Comic</h1>
    </header>
    <section>
        <img id="comic" src="./comics/comic1.png" 
        alt="So It Begins"
        >
    </section>
    <nav>
      <ul>
        <li><button id="first" name="first"> <img src="dist/first.png" alt="first" class="button-img"></button></li>
        <li><button id="back" name="back"> <img src="dist/back.png" alt="back" class="button-img"></button></li>
        <li><button id="next" name="next"> <img src="dist/next.png" alt="next" class="button-img"></button></li>
        <!-- <li><button id="last" name="last"> >> </button></li> -->
      </ul>
    </nav>
    <footer>
      <ul>
        <li><a href=""><img class="icon" src="dist/instagram.svg" alt="instagram-icon"></a></li>
        <li><a href=""><img class="icon" src="dist/twitter.svg" alt="twitter-icon"></a></li>
        <li><a href=""><img class="icon" src="dist/facebook.svg" alt="facebook-icon"></a></li>
        <li><a href="https://www.reddit.com/user/unicorndroppingz"><img class="icon" src="dist/reddit.svg" alt="reddit-icon"></a></li>
      </ul>
    </footer>
  </body>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        var comic = document.getElementById('comic');
        var comicRect = document.getElementById('comic').getBoundingClientRect();

        var back = document.getElementById('back');
        var next = document.getElementById('next');
        var first = document.getElementById('first');
        var last = document.getElementById('last');
        var buttonArray = [first,back,next];

        function gonext() {
          count = getIndex() + 1;
          comic.src="./comics/comic" + count + ".png";
        };

        function golast() {
          // implement me! Count how many things are in the folder.
          // comic.src="./comics/comic" +  + ".png";
        };

        function gofirst() {
          comic.src=firstname;
        };

        function goback() {
          count = getIndex() - 1;
          comic.src="./comics/comic" + count + ".png";
        }

        function matchNavigate(element) {
          let name = element.name;
          if (name == 'back') {
            goback();
          } else if (name == 'first') {
            gofirst();
          } else if (name == 'last') {
            golast();
          } else if (name == 'next') {
            gonext();
          };
        };

        buttonArray.forEach(element => {
          element.addEventListener('click', event => {
            matchNavigate(element);
          });
        });

        comic.addEventListener('click', getClickCoordinates);

        function getClickCoordinates(e) {
          let comicWidth = comicRect.width;
          console.log(e.clientX  - comicRect.left);
          if (e.clientX - comicRect.left <= comicRect.width / 2) {
            goback();
          } else if (e.clientX-comicRect.left > comicRect.width / 2) {
            gonext();
          }
        };

        let firstname = comic.src.toString();

        function getIndex() {
          let index = "";
          let filename = comic.src.toString();
          console.log(filename);
          if (!isNaN(filename.charAt(filename.length - 7))) {
            index = filename.charAt(filename.length - 7);
          }
          if (!isNaN(filename.charAt(filename.length - 6))) {
            index = index + filename.charAt(filename.length - 6)
          }
          if (!isNaN(filename.charAt(filename.length - 5))) {
            index = index + filename.charAt(filename.length - 5)
          }
          index = parseInt(index);
          console.log(index);
          return index;
        };
      });
    </script>
</html>